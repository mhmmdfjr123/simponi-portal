!function(e,t){if("function"==typeof define&&define.amd)define(["module","exports","jquery"],t);else if("undefined"!=typeof exports)t(module,exports,require("jquery"));else{var n={exports:{}};t(n,n.exports,e.jquery),e.pxCharLimit=n.exports}}(this,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e){var t="pxCharLimit",n="px.charLimit",r=e.fn[t],s={maxlength:null,counter:""},a={CHANGE:"change."+n,KEYUP:"keyup."+n,FOCUS:"focus."+n},f=function(){function r(t,n){i(this,r),this.element=t,this.isTextarea=e(t).is("textarea"),this.config=this._getConfig(n),this.counter=this._getLabel(),this._setMaxLength(),this._setListeners(),this.update()}return u(r,[{key:"update",value:function(){var t=this.config.maxlength,n=this.element.value,i=void 0;this.isTextarea&&(n=n.replace(/\r?\n/g,"\n")),i=n.length,i>t&&(e(this.element).val(n.substr(0,t)).trigger("change"),i=t),this.counter&&(this.counter.innerHTML=t-i)}},{key:"destroy",value:function(){this._unsetListeners(),e(this.element).removeData(n)}},{key:"_getLabel",value:function(){return this.config.counter?"string"==typeof this.config.counter?e(this.config.counter)[0]||null:this.config.counter:null}},{key:"_setMaxLength",value:function(){this.isTextarea?this.element.removeAttribute("maxlength"):this.element.setAttribute("maxlength",this.config.maxlength)}},{key:"_setListeners",value:function(){e(this.element).on(this.constructor.Event.CHANGE,e.proxy(this.update,this)).on(this.constructor.Event.KEYUP,e.proxy(this.update,this)).on(this.constructor.Event.FOCUS,e.proxy(this.update,this))}},{key:"_unsetListeners",value:function(){e(this.element).off("."+n)}},{key:"_getConfig",value:function(t){var n=e.extend({},this.constructor.Default,{maxlength:this.element.getAttribute("maxlength")},e(this.element).data(),t);if(!n.maxlength)throw new Error("maxlength is not specified.");return this.isTextarea&&this.element.getAttribute("maxlength")&&this.element.removeAttribute("maxlength"),n}}],[{key:"_jQueryInterface",value:function(t){return this.each(function(){var i=e(this).data(n),u="object"===(void 0===t?"undefined":o(t))?t:null;if(i||(i=new r(this,u),e(this).data(n,i)),"string"==typeof t){if(!i[t])throw new Error('No method named "'+t+'"');i[t]()}})}},{key:"Default",get:function(){return s}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return n}},{key:"Event",get:function(){return a}},{key:"EVENT_KEY",get:function(){return"."+n}}]),r}();return e.fn[t]=f._jQueryInterface,e.fn[t].Constructor=f,e.fn[t].noConflict=function(){return e.fn[t]=r,f._jQueryInterface},f}(r.default);t.default=s,e.exports=t.default});